(()=>{var e={};e.id=883,e.ids=[883],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},1451:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),r(3442),r(4282),r(5866);var n=r(3191),o=r(8716),s=r(7922),a=r.n(s),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["map",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3442)),"/home/joscha/repos/feminizidmap-frontend/src/app/map/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4282)),"/home/joscha/repos/feminizidmap-frontend/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/joscha/repos/feminizidmap-frontend/src/app/map/page.js"],d="/map/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/map/page",pathname:"/map",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4206:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},6833:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2481,23)),Promise.resolve().then(r.t.bind(r,9404,23)),Promise.resolve().then(r.bind(r,959)),Promise.resolve().then(r.bind(r,8546)),Promise.resolve().then(r.bind(r,6411)),Promise.resolve().then(r.bind(r,4830)),Promise.resolve().then(r.bind(r,9168)),Promise.resolve().then(r.bind(r,1069))},6944:(e,t,r)=>{Promise.resolve().then(r.bind(r,6160))},4429:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(326);function o({props:e}){return console.log(e),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("h3",{className:"mb-3",children:[e.crime_date," ",e.address?.city]}),n.jsx("p",{className:"fs-5",children:e.crime?.description_of_crimescene}),(0,n.jsxs)("details",{children:[n.jsx("summary",{children:n.jsx("b",{children:"Mehr Details"})}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("p",{className:"fs-5",children:["Todesursache: ",n.jsx("b",{children:e.crime?.cause_of_death?.label})]}),(0,n.jsxs)("p",{className:"fs-5",children:["Typ: ",n.jsx("b",{children:e.crime?.type_of_feminicide?.label})]}),(0,n.jsxs)("p",{className:"fs-5",children:["Tatwaffe: ",n.jsx("b",{children:e.crime?.weapon_details})]}),(0,n.jsxs)("p",{className:"fs-5",children:["Detaillierter Ort: ",n.jsx("b",{children:e.crime?.location_details})]}),n.jsx("p",{className:"fs-5",children:"Quellen:"}),n.jsx("ul",{children:e.source.map(e=>n.jsx("li",{children:n.jsx("a",{href:e.url,target:"_blank",children:e.url})},e.id))})]})]})]})}},6160:(e,t,r)=>{"use strict";r.d(t,{default:()=>F});var n=r(326),o=r(7577),s=r(4429);let a=o.createContext(null);function i(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n of r)if(!t.hasOwnProperty(n)||!i(e[n],t[n]))return!1;return!0}return!1}function l(e,t){if(!e.getProjection)return;let r=e.getProjection();i(r,t.getProjection())||t.setProjection(r)}function c(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function u(e,t){let r=t.viewState||t,n=!1;if("longitude"in r&&"latitude"in r){let t=e.center;e.center=new t.constructor(r.longitude,r.latitude),n=n||t!==e.center}if("zoom"in r){let t=e.zoom;e.zoom=r.zoom,n=n||t!==e.zoom}if("bearing"in r){let t=e.bearing;e.bearing=r.bearing,n=n||t!==e.bearing}if("pitch"in r){let t=e.pitch;e.pitch=r.pitch,n=n||t!==e.pitch}return r.padding&&!e.isPaddingEqual(r.padding)&&(n=!0,e.padding=r.padding),n}let d=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function p(e){if(!e)return null;if("string"==typeof e||("toJS"in e&&(e=e.toJS()),!e.layers))return e;let t={};for(let r of e.layers)t[r.id]=r;let r=e.layers.map(e=>{let r=null;"interactive"in e&&(r=Object.assign({},e),delete r.interactive);let n=t[e.ref];if(n)for(let t of(r=r||Object.assign({},e),delete r.ref,d))t in n&&(r[t]=n[t]);return r||e});return{...e,layers:r}}let m={version:8,sources:{},layers:[]},f={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},h={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},g={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},y=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],v=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class x{constructor(e,t,r){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{let t=this.props[g[e.type]];t?t(e):"error"===e.type&&console.error(e.error)},this._onPointerEvent=e=>{("mousemove"===e.type||"mouseout"===e.type)&&this._updateHover(e);let t=this.props[f[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){let t=this.props[h[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(r)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){let t=this.props;this.props=e;let r=this._updateSettings(e,t);r&&this._createShadowTransform(this._map);let n=this._updateSize(e),o=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(r||n||o&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){let r=x.savedMaps.pop();if(!r)return null;let n=r.map,o=n.getContainer();for(t.className=o.className;o.childNodes.length>0;)t.appendChild(o.childNodes[0]);n._container=t;let s=n._resizeObserver;s&&(s.disconnect(),s.observe(t)),r.setProps({...e,styleDiffing:!1}),n.resize();let{initialViewState:a}=e;return a&&(a.bounds?n.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):r._updateViewState(a,!1)),n.isStyleLoaded()?n.fire("load"):n.once("styledata",()=>n.fire("load")),n._update(),r}_initialize(e){let{props:t}=this,{mapStyle:r=m}=t,n={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||function(){let e=null;if("undefined"!=typeof location){let t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||process.env.MapboxAccessToken}catch(e){}try{e=e||process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(e){}return e}()||null,container:e,style:p(r)},o=n.initialViewState||n.viewState||n;if(Object.assign(n,{center:[o.longitude||0,o.latitude||0],zoom:o.zoom||0,pitch:o.pitch||0,bearing:o.bearing||0}),t.gl){let e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}let s=new this._MapClass(n);o.padding&&s.setPadding(o.padding),t.cursor&&(s.getCanvas().style.cursor=t.cursor),this._createShadowTransform(s);let a=s._render;s._render=e=>{this._inRender=!0,a.call(s,e),this._inRender=!1};let i=s._renderTaskQueue.run;s._renderTaskQueue.run=e=>{i.call(s._renderTaskQueue,e),this._onBeforeRepaint()},s.on("render",()=>this._onAfterRepaint());let c=s.fire;for(let e in s.fire=this._fireEvent.bind(this,c),s.on("resize",()=>{this._renderTransform.resize(s.transform.width,s.transform.height)}),s.on("styledata",()=>{this._updateStyleComponents(this.props,{}),l(s.transform,this._renderTransform)}),s.on("sourcedata",()=>this._updateStyleComponents(this.props,{})),f)s.on(e,this._onPointerEvent);for(let e in h)s.on(e,this._onCameraEvent);for(let e in g)s.on(e,this._onEvent);this._map=s}recycle(){let e=this.map.getContainer().querySelector("[mapboxgl-children]");null==e||e.remove(),x.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){let e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){let t=function(e){let t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){let{viewState:t}=e;if(t){let e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;let r=this._map,n=this._renderTransform,{zoom:o,pitch:s,bearing:a}=n,i=r.isMoving();i&&(n.cameraElevationReference="sea");let l=u(n,{...c(r.transform),...e});if(i&&(n.cameraElevationReference="ground"),l&&t){let e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=o!==n.zoom),e.rotate||(e.rotate=a!==n.bearing),e.pitch||(e.pitch=s!==n.pitch)}return i||u(r.transform,e),l}_updateSettings(e,t){let r=this._map,n=!1;for(let o of y)if(o in e&&!i(e[o],t[o])){n=!0;let t=r[`set${o[0].toUpperCase()}${o.slice(1)}`];null==t||t.call(r,e[o])}return n}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){let{mapStyle:t=m,styleDiffing:r=!0}=e,n={diff:r};return"localIdeographFontFamily"in e&&(n.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(p(t),n),!0}return!1}_updateStyleComponents(e,t){let r=this._map,n=!1;return r.isStyleLoaded()&&("light"in e&&r.setLight&&!i(e.light,t.light)&&(n=!0,r.setLight(e.light)),"fog"in e&&r.setFog&&!i(e.fog,t.fog)&&(n=!0,r.setFog(e.fog)),"terrain"in e&&r.setTerrain&&!i(e.terrain,t.terrain)&&(!e.terrain||r.getSource(e.terrain.source))&&(n=!0,r.setTerrain(e.terrain))),n}_updateHandlers(e,t){var r,n;let o=this._map,s=!1;for(let a of v){let l=null===(r=e[a])||void 0===r||r;i(l,null===(n=t[a])||void 0===n||n)||(s=!0,l?o[a].enable(l):o[a].disable())}return s}_queryRenderedFeatures(e){let t=this._map,r=t.transform,{interactiveLayerIds:n=[]}=this.props;try{return t.transform=this._renderTransform,t.queryRenderedFeatures(e,{layers:n.filter(t.getLayer.bind(t))})}catch(e){return[]}finally{t.transform=r}}_updateHover(e){var t;let{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){let r=e.type,n=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0,o=this._queryRenderedFeatures(e.point),s=o.length>0;!s&&n&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=o,s&&!n&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=r}else this._hoveredFeatures=null}_fireEvent(e,t,r){let n=this._map,o=n.transform,s="string"==typeof t?t:t.type;return("move"===s&&this._updateViewState(this.props,!1),s in h&&("object"==typeof t&&(t.viewState=c(o)),this._map.isMoving()))?(n.transform=this._renderTransform,e.call(n,t,r),n.transform=o):e.call(n,t,r),n}_onBeforeRepaint(){let e=this._map;for(let t in this._internalUpdate=!0,this._deferredEvents)this._deferredEvents[t]&&e.fire(t);this._internalUpdate=!1;let t=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{l(this._renderTransform,t),e.transform=t}}}x.savedMaps=[];let _=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"],b="undefined"!=typeof document?o.useLayoutEffect:o.useEffect,j=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"],P=o.createContext(null);var E=r(962);let w=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function S(e,t){if(!e||!t)return;let r=e.style;for(let e in t){let n=t[e];Number.isFinite(n)&&!w.test(e)?r[e]=`${n}px`:r[e]=n}}function M(e){return new Set(e?e.trim().split(/\s+/):[])}(0,o.memo)((0,o.forwardRef)(function(e,t){let{map:r,mapLib:n}=(0,o.useContext)(P),s=(0,o.useRef)({props:e});s.current.props=e;let a=(0,o.useMemo)(()=>{let t=!1;o.Children.forEach(e.children,e=>{e&&(t=!0)});let r={...e,element:t?document.createElement("div"):null},i=new n.Marker(r);return i.setLngLat([e.longitude,e.latitude]),i.getElement().addEventListener("click",e=>{var t,r;null===(r=(t=s.current.props).onClick)||void 0===r||r.call(t,{type:"click",target:i,originalEvent:e})}),i.on("dragstart",e=>{var t,r;e.lngLat=a.getLngLat(),null===(r=(t=s.current.props).onDragStart)||void 0===r||r.call(t,e)}),i.on("drag",e=>{var t,r;e.lngLat=a.getLngLat(),null===(r=(t=s.current.props).onDrag)||void 0===r||r.call(t,e)}),i.on("dragend",e=>{var t,r;e.lngLat=a.getLngLat(),null===(r=(t=s.current.props).onDragEnd)||void 0===r||r.call(t,e)}),i},[]);(0,o.useEffect)(()=>(a.addTo(r.getMap()),()=>{a.remove()}),[]);let{longitude:i,latitude:l,offset:c,style:u,draggable:d=!1,popup:p=null,rotation:m=0,rotationAlignment:f="auto",pitchAlignment:h="auto"}=e;return(0,o.useEffect)(()=>{S(a.getElement(),u)},[u]),(0,o.useImperativeHandle)(t,()=>a,[]),(a.getLngLat().lng!==i||a.getLngLat().lat!==l)&&a.setLngLat([i,l]),c&&!function(e,t){let r=Array.isArray(e)?e[0]:e?e.x:0,n=Array.isArray(e)?e[1]:e?e.y:0,o=Array.isArray(t)?t[0]:t?t.x:0,s=Array.isArray(t)?t[1]:t?t.y:0;return r===o&&n===s}(a.getOffset(),c)&&a.setOffset(c),a.isDraggable()!==d&&a.setDraggable(d),a.getRotation()!==m&&a.setRotation(m),a.getRotationAlignment()!==f&&a.setRotationAlignment(f),a.getPitchAlignment()!==h&&a.setPitchAlignment(h),a.getPopup()!==p&&a.setPopup(p),(0,E.createPortal)(e.children,a.getElement())})),(0,o.memo)((0,o.forwardRef)(function(e,t){let{map:r,mapLib:n}=(0,o.useContext)(P),s=(0,o.useMemo)(()=>document.createElement("div"),[]),a=(0,o.useRef)({props:e});a.current.props=e;let l=(0,o.useMemo)(()=>{let t={...e},r=new n.Popup(t);return r.setLngLat([e.longitude,e.latitude]),r.once("open",e=>{var t,r;null===(r=(t=a.current.props).onOpen)||void 0===r||r.call(t,e)}),r},[]);if((0,o.useEffect)(()=>{let e=e=>{var t,r;null===(r=(t=a.current.props).onClose)||void 0===r||r.call(t,e)};return l.on("close",e),l.setDOMContent(s).addTo(r.getMap()),()=>{l.off("close",e),l.isOpen()&&l.remove()}},[]),(0,o.useEffect)(()=>{S(l.getElement(),e.style)},[e.style]),(0,o.useImperativeHandle)(t,()=>l,[]),l.isOpen()&&((l.getLngLat().lng!==e.longitude||l.getLngLat().lat!==e.latitude)&&l.setLngLat([e.longitude,e.latitude]),e.offset&&!i(l.options.offset,e.offset)&&l.setOffset(e.offset),(l.options.anchor!==e.anchor||l.options.maxWidth!==e.maxWidth)&&(l.options.anchor=e.anchor,l.setMaxWidth(e.maxWidth)),l.options.className!==e.className)){let t=M(l.options.className),r=M(e.className);for(let e of t)r.has(e)||l.removeClassName(e);for(let e of r)t.has(e)||l.addClassName(e);l.options.className=e.className}return(0,E.createPortal)(e.children,s)}));let C=function(e,t,r,n){let s=(0,o.useContext)(P),a=(0,o.useMemo)(()=>e(s),[]);return(0,o.useEffect)(()=>{let e=n||r||t,o="function"==typeof t&&"function"==typeof r?t:null,i="function"==typeof r?r:"function"==typeof t?t:null,{map:l}=s;return!l.hasControl(a)&&(l.addControl(a,null==e?void 0:e.position),o&&o(s)),()=>{i&&i(s),l.hasControl(a)&&l.removeControl(a)}},[]),a};function L(e,t){if(!e)throw Error(t)}(0,o.memo)(function(e){let t=C(({mapLib:t})=>new t.AttributionControl(e),{position:e.position});return(0,o.useEffect)(()=>{S(t._container,e.style)},[e.style]),null}),(0,o.memo)(function(e){let t=C(({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return(0,o.useEffect)(()=>{S(t._controlContainer,e.style)},[e.style]),null}),(0,o.memo)((0,o.forwardRef)(function(e,t){let r=(0,o.useRef)({props:e}),n=C(({mapLib:t})=>{let n=new t.GeolocateControl(e),o=n._setupUI;return n._setupUI=e=>{n._container.hasChildNodes()||o(e)},n.on("geolocate",e=>{var t,n;null===(n=(t=r.current.props).onGeolocate)||void 0===n||n.call(t,e)}),n.on("error",e=>{var t,n;null===(n=(t=r.current.props).onError)||void 0===n||n.call(t,e)}),n.on("outofmaxbounds",e=>{var t,n;null===(n=(t=r.current.props).onOutOfMaxBounds)||void 0===n||n.call(t,e)}),n.on("trackuserlocationstart",e=>{var t,n;null===(n=(t=r.current.props).onTrackUserLocationStart)||void 0===n||n.call(t,e)}),n.on("trackuserlocationend",e=>{var t,n;null===(n=(t=r.current.props).onTrackUserLocationEnd)||void 0===n||n.call(t,e)}),n},{position:e.position});return r.current.props=e,(0,o.useImperativeHandle)(t,()=>n,[]),(0,o.useEffect)(()=>{S(n._container,e.style)},[e.style]),null})),(0,o.memo)(function(e){let t=C(({mapLib:t})=>new t.NavigationControl(e),{position:e.position});return(0,o.useEffect)(()=>{S(t._container,e.style)},[e.style]),null}),(0,o.memo)(function(e){let t=C(({mapLib:t})=>new t.ScaleControl(e),{position:e.position}),r=(0,o.useRef)(e),n=r.current;r.current=e;let{style:s}=e;return void 0!==e.maxWidth&&e.maxWidth!==n.maxWidth&&(t.options.maxWidth=e.maxWidth),void 0!==e.unit&&e.unit!==n.unit&&t.setUnit(e.unit),(0,o.useEffect)(()=>{S(t._container,s)},[s]),null});let R=0,T=0,z=r.e(810).then(r.t.bind(r,810,23)),k=o.forwardRef(function(e,t){return function(e,t,r){let n=(0,o.useContext)(a),[s,i]=(0,o.useState)(null),l=(0,o.useRef)(),{current:c}=(0,o.useRef)({mapLib:null,map:null});(0,o.useEffect)(()=>{let t;let o=e.mapLib,s=!0;return Promise.resolve(o||r).then(r=>{if(!s)return;if(!r)throw Error("Invalid mapLib");let o="Map"in r?r:r.default;if(!o.Map)throw Error("Invalid mapLib");if(function(e,t){for(let r of j)r in t&&(e[r]=t[r]);let{RTLTextPlugin:r="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;r&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(r,e=>{e&&console.error(e)},!0)}(o,e),!o.supported||o.supported(e))e.reuseMaps&&(t=x.reuse(e,l.current)),t||(t=new x(o.Map,e,l.current)),c.map=function(e){if(!e)return null;let t=e.map,r={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:r=>{let n=t.transform;t.transform=e.transform;let o=t.project(r);return t.transform=n,o},unproject:r=>{let n=t.transform;t.transform=e.transform;let o=t.unproject(r);return t.transform=n,o},queryTerrainElevation:(r,n)=>{let o=t.transform;t.transform=e.transform;let s=t.queryTerrainElevation(r,n);return t.transform=o,s},queryRenderedFeatures:(r,n)=>{let o=t.transform;t.transform=e.transform;let s=t.queryRenderedFeatures(r,n);return t.transform=o,s}};for(let e of function(e){let t=new Set,r=e;for(;r;){for(let n of Object.getOwnPropertyNames(r))"_"!==n[0]&&"function"==typeof e[n]&&"fire"!==n&&"setEventedParent"!==n&&t.add(n);r=Object.getPrototypeOf(r)}return Array.from(t)}(t))e in r||_.includes(e)||(r[e]=t[e].bind(t));return r}(t),c.mapLib=o,i(t),null==n||n.onMapMount(c.map,e.id);else throw Error("Map is not supported by this browser")}).catch(t=>{let{onError:r}=e;r?r({type:"error",target:null,originalEvent:null,error:t}):console.error(t)}),()=>{s=!1,t&&(null==n||n.onMapUnmount(e.id),e.reuseMaps?t.recycle():t.destroy())}},[]),b(()=>{s&&s.setProps(e)}),(0,o.useImperativeHandle)(t,()=>c.map,[s]);let u=(0,o.useMemo)(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]);return o.createElement("div",{id:e.id,ref:l,style:u},s&&o.createElement(P.Provider,{value:c},o.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},e.children)))}(e,t,z)}),N=function(e){let t=(0,o.useContext)(P).map.getMap(),r=(0,o.useRef)(e),[,n]=(0,o.useState)(0),s=(0,o.useMemo)(()=>e.id||`jsx-layer-${R++}`,[]);if((0,o.useEffect)(()=>{if(t){let e=()=>n(e=>e+1);return t.on("styledata",e),e(),()=>{t.off("styledata",e),t.style&&t.style._loaded&&t.getLayer(s)&&t.removeLayer(s)}}},[t]),t&&t.style&&t.getLayer(s))try{!function(e,t,r,n){if(L(r.id===n.id,"layer id changed"),L(r.type===n.type,"layer type changed"),"custom"===r.type||"custom"===n.type)return;let{layout:o={},paint:s={},filter:a,minzoom:l,maxzoom:c,beforeId:u}=r;if(u!==n.beforeId&&e.moveLayer(t,u),o!==n.layout){let r=n.layout||{};for(let n in o)i(o[n],r[n])||e.setLayoutProperty(t,n,o[n]);for(let n in r)o.hasOwnProperty(n)||e.setLayoutProperty(t,n,void 0)}if(s!==n.paint){let r=n.paint||{};for(let n in s)i(s[n],r[n])||e.setPaintProperty(t,n,s[n]);for(let n in r)s.hasOwnProperty(n)||e.setPaintProperty(t,n,void 0)}i(a,n.filter)||e.setFilter(t,a),(l!==n.minzoom||c!==n.maxzoom)&&e.setLayerZoomRange(t,l,c)}(t,s,e,r.current)}catch(e){console.warn(e)}else!function(e,t,r){if(e.style&&e.style._loaded&&(!("source"in r)||e.getSource(r.source))){let n={...r,id:t};delete n.beforeId,e.addLayer(n,r.beforeId)}}(t,s,e);return r.current=e,null},A=function(e){let t=(0,o.useContext)(P).map.getMap(),r=(0,o.useRef)(e),[,n]=(0,o.useState)(0),s=(0,o.useMemo)(()=>e.id||`jsx-source-${T++}`,[]);(0,o.useEffect)(()=>{if(t){let e=()=>setTimeout(()=>n(e=>e+1),0);return t.on("styledata",e),e(),()=>{var r;if(t.off("styledata",e),t.style&&t.style._loaded&&t.getSource(s)){let e=null===(r=t.getStyle())||void 0===r?void 0:r.layers;if(e)for(let r of e)r.source===s&&t.removeLayer(r.id);t.removeSource(s)}}}},[t]);let a=t&&t.style&&t.getSource(s);return a?function(e,t,r){L(t.id===r.id,"source id changed"),L(t.type===r.type,"source type changed");let n="",o=0;for(let e in t)"children"!==e&&"id"!==e&&!i(r[e],t[e])&&(n=e,o++);if(!o)return;let s=t.type;if("geojson"===s)e.setData(t.data);else if("image"===s)e.updateImage({url:t.url,coordinates:t.coordinates});else if("setCoordinates"in e&&1===o&&"coordinates"===n)e.setCoordinates(t.coordinates);else if("setUrl"in e)switch(n){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles)}else console.warn(`Unable to update <Source> prop: ${n}`)}(a,e,r.current):a=function(e,t,r){if(e.style&&e.style._loaded){let n={...r};return delete n.id,delete n.children,e.addSource(t,n),e.getSource(t)}return null}(t,s,e),r.current=e,a&&o.Children.map(e.children,e=>e&&(0,o.cloneElement)(e,{source:s}))||null};function F({cases:e}){let t=(0,o.useRef)(),[a,i]=(0,o.useState)([]),l={type:"FeatureCollection",features:e.map(e=>({type:"Feature",properties:{...e},geometry:{type:"Point",coordinates:[e.address?.coordinates?.coordinates?.lng||0,e.address?.coordinates?.coordinates?.lat||0]}}))};return(0,n.jsxs)("div",{children:[n.jsx(k,{ref:t,mapboxAccessToken:"pk.eyJ1Ijoiam81Y2hhIiwiYSI6ImNsZ2NieDJ4bzB3N2szanFsbzNqMno1Y3cifQ.U-8QqdvS8QsfoM66FKnvSg",mapLib:r.e(810).then(r.t.bind(r,810,23)),attributionControl:!1,maxZoom:12,initialViewState:{longitude:11,latitude:52,zoom:6},style:{width:"100%",height:"calc(100vh - 400px)"},mapStyle:"mapbox://styles/jo5cha/clvqd5pkk01pg01qpa4t518pn",onClick:e=>{let r=t.current,n=r.queryRenderedFeatures(e.point,{layers:["unclustered-point"]}),o=r.queryRenderedFeatures(e.point,{layers:["clusters"]});if(n.length)i([n[0]]);else if(o.length){let e=o[0].properties.cluster_id,t=o[0].properties.point_count;r.getSource("cases").getClusterLeaves(e,t,0,function(e,t){i(t)})}},children:(0,n.jsxs)(A,{id:"cases",type:"geojson",data:l,cluster:!0,clusterMaxZoom:14,clusterRadius:100,children:[n.jsx(N,{id:"clusters",type:"circle",source:"cases",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"darkgrey",5,"grey",10,"black"],"circle-radius":["step",["get","point_count"],20,5,30,10,40]}}),n.jsx(N,{id:"cluster-count",type:"symbol",source:"cases",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-size":14},paint:{"text-color":"white"}}),n.jsx(N,{id:"unclustered-point",type:"circle",source:"cases",filter:["!",["has","point_count"]],paint:{"circle-color":"darkgrey","circle-radius":10,"circle-stroke-width":0}})]})}),n.jsx("div",{children:a.map(e=>n.jsx("div",{className:"mt-4",children:n.jsx(s.Z,{props:e.properties})},e.properties.id))})]})}r(6793)},4282:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g,metadata:()=>h});var n=r(9510),o=r(1402),s=r.n(o);r(8399),r(5023);var a=r(6517),i=r(2847),l=r(6646),c=r(4399),u=r(9461),d=r(4368),p=r(7371),m=r(7710);function f(){return n.jsx(i.ZP,{expand:"lg",className:"mt-3",children:(0,n.jsxs)(a.ZP,{children:[n.jsx(l.ZP,{className:"d-flex",href:"/",children:n.jsx("div",{style:{width:300},className:"d-inline-block d-lg-none",children:n.jsx(m.default,{alt:"FeminizidMap.org",src:"/title.svg",className:"float-start w-100 h-auto",width:0,height:0})})}),n.jsx(c.ZP,{"aria-controls":"basic-navbar-nav"}),n.jsx(u.ZP,{id:"basic-navbar-nav",children:(0,n.jsxs)(d.ZP,{className:"justify-content-between text-center w-100",children:[n.jsx(p.default,{className:"nav-link fs-2",href:"/",children:"HOME"}),n.jsx(p.default,{className:"nav-link fs-2",href:"/about",children:"ABOUT"}),n.jsx(p.default,{className:"nav-link fs-2",href:"/map",children:"MAP"}),n.jsx(p.default,{className:"nav-link fs-2",href:"/database",children:"DATABASE"}),n.jsx(p.default,{className:"nav-link fs-2",href:"/",children:"REPORTS"}),n.jsx(p.default,{className:"nav-link fs-2",href:"/",children:"TEAM"}),n.jsx(p.default,{className:"nav-link fs-2",href:"/",children:"FAQ"})]})})]})})}let h={title:"FeminizidMap.org",description:"A research project on femi(ni)cides in Germany"};function g({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:s().className,children:(0,n.jsxs)(a.ZP,{children:[n.jsx(m.default,{alt:"FeminizidMap.org",src:"/title.svg",className:"pt-3 d-none d-lg-block w-100 h-auto",width:0,height:0}),n.jsx(f,{}),n.jsx("div",{className:"my-4",children:e})]})})})}},3442:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(9510),o=r(8570);let s=(0,o.createProxy)(String.raw`/home/joscha/repos/feminizidmap-frontend/src/app/map/map.js`),{__esModule:a,$$typeof:i}=s;s.default;let l=(0,o.createProxy)(String.raw`/home/joscha/repos/feminizidmap-frontend/src/app/map/map.js#default`);async function c(){let e=await fetch("http://localhost:1337/api/cases?populate=deep&pagination[pageSize]=200");if(!e.ok)throw Error("Failed to fetch data");return e.json()}async function u(){let e=await c();return n.jsx("main",{children:n.jsx("div",{className:"mb-3",children:n.jsx(l,{cases:e.data})})})}r(5910)},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(6621);let o=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},6793:()=>{},5023:()=>{},5910:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,266,621],()=>r(1451));module.exports=n})();